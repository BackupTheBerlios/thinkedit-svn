<html>
<head>
<script type="text/javascript" src="../../lib/prototype/prototype.js"></script>

<style>
#thinkedit
{
background-color: gray;
margin 2em;
}
</style>


<script type="text/javascript">

previous_menu = false;

function showContextMenu(id)
{
if (previous_menu)
{
Element.hide(previous_menu);
}

Element.show(id);
previous_menu = id;

// remove menu after 10 secs
//timer = new PeriodicalExecuter(timeOutMenu, 10);
}


i = 0;
function timeOutMenu()
{
if (i>0)
{
if (previous_menu)
{
Element.hide(previous_menu);
}
i=0;
}
i++;
}


function hideMenu()
{
if (Element.hasClassName(Event.event) == 'context_menu')
{

}
else
{
Element.hide(previous_menu);
}
}



</script>

</head>

<body>

<div id="thinkedit">

<div oncontextmenu="showContextMenu('test');return false;">right clik on me</div>

<div id="test" style="display:none" class="context_menu">This is my menu</div>



<hr/>

<div oncontextmenu="showContextMenu('test2');return false;">right clik on me</div>

<div id="test2" style="display:none" class="context_menu">This is my menu2</div>

</div>

</body>


<script type="text/javascript" language="javascript">
Event.observe('thinkedit', 'click', hideMenu);
</script>

</html>

